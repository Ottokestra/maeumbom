.scene {
  display: flex;
  justify-content: center;
  width: 100%;
  padding: var(--space-lg);
}

.scene-card {
  position: relative;
  background: linear-gradient(180deg, rgba(255, 251, 250, 0.92), rgba(244, 230, 228, 0.9));
  border-radius: 24px;
  padding: var(--space-lg);
  box-shadow: var(--shadow-card);
  width: min(760px, 100%);
  overflow: hidden;
  border: 1px solid var(--color-border-soft);
}

.scene-glow {
  position: absolute;
  width: 220px;
  height: 220px;
  background: radial-gradient(circle, rgba(230, 117, 122, 0.25), transparent 60%);
  top: -40px;
  right: -40px;
  filter: blur(6px);
  pointer-events: none;
}

.character-wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: var(--space-md);
}

.character-avatar {
  position: relative;
  width: 240px;
  height: 240px;
  background: linear-gradient(145deg, #ffffff, #fdf2f0);
  border-radius: 28px;
  box-shadow: inset 0 2px 12px rgba(255, 255, 255, 0.9), 0 16px 38px rgba(35, 52, 70, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
}

.character-image {
  width: 170px;
  height: 170px;
  object-fit: contain;
  filter: drop-shadow(0 14px 18px rgba(0, 0, 0, 0.16));
}

.character-placeholder {
  width: 140px;
  height: 140px;
  border-radius: 24px;
  background: var(--color-bg-soft-mint);
  color: var(--color-text-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: var(--font-size-lg);
}

.sparkles {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.8), transparent 40%),
    radial-gradient(circle at 80% 30%, rgba(255, 255, 255, 0.9), transparent 40%),
    radial-gradient(circle at 40% 80%, rgba(230, 117, 122, 0.35), transparent 35%);
  mix-blend-mode: screen;
  animation: twinkle 1.2s ease-in-out infinite;
  pointer-events: none;
}

@keyframes twinkle {
  0% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.6;
  }
}

.speech-bubble {
  position: relative;
  background: var(--color-bg-basic);
  border-radius: 22px;
  padding: var(--space-md);
  box-shadow: var(--shadow-soft);
  min-height: 120px;
  border: 1px solid var(--color-border-soft);
  overflow: hidden;
}

.speech-text {
  font-size: var(--font-size-md);
  color: var(--color-text-primary);
  max-height: 120px;
  overflow: auto;
}

.loading-text {
  color: var(--color-text-secondary);
  font-size: var(--font-size-md);
}

.emotion-label {
  margin-top: var(--space-sm);
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}

.character-meta {
  margin-top: var(--space-sm);
  padding: var(--space-sm);
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.7);
  border: 1px dashed var(--color-border-soft);
}

.character-name {
  font-weight: 700;
  font-size: var(--font-size-md);
}

.character-desc {
  color: var(--color-text-secondary);
  margin-top: 4px;
}
